<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Добавить отзыв</title>
</head>
<body>
    <h1>Добавить отзыв</h1>
    <form action="add_review.php" method="post" onsubmit="return validateReviewForm()">
		<input type="hidden" name="product_id" id="product_id" value="<?php echo $_GET['product_id']; ?>">
        <label for="rating">Оценка:</label>
        <input type="number" name="rating" id="rating" min="1" max="5" required>
        <br>
        <label for="comment">Отзыв:</label>
        <textarea name="comment" id="comment" rows="4" cols="50" required></textarea>
        <br>
        <input type="submit" value="Добавить отзыв">
    </form>

	<script>
		document.addEventListener('DOMContentLoaded', function () {
			const urlParams = new URLSearchParams(window.location.search);
			if (!urlParams.has("product_id")) {
				alert("Product ID is not set in the URL.");
			} else {
				const product_id = urlParams.get("product_id");
				document.getElementById("product_id").value = product_id;
			}
		});
	</script>

    <script>
        function validateReviewForm() {
            var rating = document.getElementById("rating").value;
            var comment = document.getElementById("comment").value;

            if (rating < 1 || rating > 5) {
                alert("Оценка должна быть между 1 и 5.");
                return false;
            }
            return true;
        }
    </script>
</body>
</html>
